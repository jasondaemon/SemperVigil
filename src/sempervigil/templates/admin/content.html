{% extends "admin/base.html" %}
{% set nav_active = "content" %}
{% set nav_subactive = "content" %}
{% block content %}
  <section class="panel">
    <h2>Content Browser</h2>
    <form id="content-search-form" class="filters">
      <input type="text" id="content-query" placeholder="Search title or summary">
      <select id="content-type">
        <option value="all">All</option>
        <option value="articles">Articles</option>
        <option value="cves">CVEs</option>
      </select>
      <select id="content-source">
        <option value="">All sources</option>
        {% for source in sources %}
          <option value="{{ source.id }}">{{ source.name }}</option>
        {% endfor %}
      </select>
      <select id="content-has-summary">
        <option value="">Any summary</option>
        <option value="1">Has summary</option>
        <option value="0">No summary</option>
      </select>
      <input type="text" id="content-tags" placeholder="Tags (comma)">
      <select id="content-severity">
        <option value="">Any severity</option>
        <option value="CRITICAL">CRITICAL</option>
        <option value="HIGH">HIGH</option>
        <option value="MEDIUM">MEDIUM</option>
        <option value="LOW">LOW</option>
      </select>
      <input type="number" step="0.1" id="content-min-cvss" placeholder="Min CVSS">
      <input type="date" id="content-after">
      <input type="date" id="content-before">
      <select id="content-page-size">
        <option value="25">25</option>
        <option value="50" selected>50</option>
        <option value="100">100</option>
      </select>
      <button class="btn" type="submit">Search</button>
    </form>
    <p class="error" id="content-error" style="display:none;"></p>
    <div class="tag-panel">
      <div class="tag-panel-header">Tags</div>
      <div id="content-tag-list" class="tag-list"></div>
      <div class="tag-panel-selected">
        <div class="tag-panel-header">Selected tags</div>
        <div id="content-selected-tags" class="tag-chips"></div>
      </div>
    </div>
  </section>

  <section class="panel">
    <table id="content-table">
      <thead>
        <tr>
          <th>Type</th>
          <th>ID</th>
          <th>Date</th>
          <th>Title / Summary</th>
          <th>Source</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
    <div class="pager" id="content-pager"></div>
  </section>
{% endblock %}
