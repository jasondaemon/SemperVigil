# SemperVigil environment variables
# Copy to .env and adjust per host

# --- Core ---
SV_ENV=dev
SV_LOG_LEVEL=INFO

# Data directory used by containers
SV_DATA_DIR=/data

# --- Permissions / NFS ---
SV_UID=1000
SV_GID=1000
SV_UMASK=002

# --- Ports ---
# Public web port (nginx serving Hugo output)
SV_WEB_PORT=8080

# Admin API host port (loopback by default in compose)
SV_ADMIN_PORT=8001

# --- Admin auth (if enabled in your build) ---
# Used to protect admin endpoints (if your code enforces it)
SV_ADMIN_TOKEN=

# --- Secrets encryption (REQUIRED to store provider API keys in DB) ---
# Generate: python -c "import os,base64; print(base64.urlsafe_b64encode(os.urandom(32)).decode())"
SEMPERVIGIL_MASTER_KEY=
SEMPERVIGIL_KEY_ID=v1

# Backward-compatible legacy env names (only needed if running older builds)
# SEMPERIVGIL_MASTER_KEY=
# SEMPERIVGIL_KEY_ID=v1

#LiteLLM key
LITELLM_MASTER_KEY=sv_local_dev_key

# --- Ingest behavior ---
SV_HTTP_TIMEOUT_SECONDS=20
SV_HTTP_USER_AGENT=SemperVigil/0.1 (+https://github.com/jasondaemon/SemperVigil)
SV_FETCH_FULL_CONTENT=1
SV_STORE_ARTICLE_HTML=0

# Default ingest cadence (minutes)
SV_INGEST_DEFAULT_INTERVAL_MINUTES=60

# Pause source after N consecutive failures
SV_SOURCE_FAILURE_THRESHOLD=5

# --- Storage ---
# SQLite busy timeout (ms)
SV_SQLITE_BUSY_TIMEOUT_MS=5000

# --- NVD (optional) ---
NVD_API_KEY=

# --- LLM (LiteLLM OpenAI-compatible) ---
SV_LLM_BASE_URL=
SV_LLM_API_KEY=
SV_LLM_MODEL=ollama/llama3
SV_LLM_TEMPERATURE=0.2
SV_LLM_MAX_TOKENS=256

# --- Hugo ---
SV_HUGO_SITE_DIR=/site
SV_HUGO_BASEURL=http://localhost:8080/
